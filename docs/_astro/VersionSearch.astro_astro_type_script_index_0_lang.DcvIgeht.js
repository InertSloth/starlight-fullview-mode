const v="modulepreload",y=function(f){return"/starlight-fullview-mode/"+f},p={},b=function(s,a,i){let d=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),t=o?.nonce||o?.getAttribute("nonce");d=Promise.allSettled(a.map(n=>{if(n=y(n),n in p)return;p[n]=!0;const h=n.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${m}`))return;const r=document.createElement("link");if(r.rel=h?"stylesheet":v,h||(r.as="script"),r.crossOrigin="",r.href=n,t&&r.setAttribute("nonce",t),document.head.appendChild(r),h)return new Promise((e,l)=>{r.addEventListener("load",e),r.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})}))}function u(o){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=o,window.dispatchEvent(t),!t.defaultPrevented)throw o}return d.then(o=>{for(const t of o||[])t.status==="rejected"&&u(t.reason);return s().catch(u)})};class E extends HTMLElement{constructor(){super();const s=this.querySelector("button[data-open-modal]"),a=this.querySelector("button[data-close-modal]"),i=this.querySelector("dialog"),d=this.querySelector(".dialog-frame");if(!s||!a||!i||!d)return;const u=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!d.contains(e.target))&&t()},o=e=>{i.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),globalThis.addEventListener("click",u)},t=()=>i.close();s.addEventListener("click",o),s.disabled=!1,a.addEventListener("click",t),i.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),globalThis.removeEventListener("click",u)}),globalThis.addEventListener("keydown",e=>{(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(i.open?t():o(),e.preventDefault())});let n={};try{n=JSON.parse(this.dataset.translations||"{}")}catch{}const m=this.dataset.stripTrailingSlash!==void 0?this.stripTrailingSlash:e=>e,r=this.dataset.version??"current";globalThis.addEventListener("DOMContentLoaded",()=>{(globalThis.requestIdleCallback||(l=>setTimeout(l,1)))(async()=>{const{PagefindUI:l}=await b(async()=>{const{PagefindUI:c}=await import("./ui-core.DSvLqz-d.js");return{PagefindUI:c}},[]);new l({element:"#starlight__search",baseUrl:"/starlight-fullview-mode",bundlePath:`${"/starlight-fullview-mode".replace(/\/$/,"")}/pagefind/`,showImages:!1,translations:n,showSubResults:!0,processResult:c=>{c.url=m(c.url),c.sub_results=c.sub_results.map(g=>(g.url=m(g.url),g))}}).triggerFilters({version:[r]})})})}stripTrailingSlash(s){return s.replace(/(.)\/(#.*)?$/,"$1$2")}}customElements.define("site-search",E);export{b as _};
